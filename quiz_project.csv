import csv
def create_quiz_csv(file_name="quiz.csv"):
    questions = [
        ["What is the capital of France?", "Paris", "London", "Berlin", "Rome", "A"],
        ["Which planet is known as the Red Planet?", "Earth", "Mars", "Jupiter", "Venus", "B"],
        ["Who wrote 'Hamlet'?", "Charles Dickens", "Mark Twain", "William Shakespeare", "J.K. Rowling", "C"]
    ]
    
    with open(file_name, "w", newline="", encoding="utf-8") as f:
        writer = csv.writer(f)
        writer.writerow(["Question", "OptionA", "OptionB", "OptionC", "OptionD", "Answer"])
        writer.writerows(questions)
    print(f"File '{file_name}' đã được tạo thành công.")
def read_quiz(file_path="quiz.csv"):
    quiz = []
    try:
        with open(file_path, "r", encoding="utf-8") as f:
            reader = csv.DictReader(f)
            for row in reader:
                quiz.append({
                    "question": row["Question"],
                    "options": [row["OptionA"], row["OptionB"], row["OptionC"], row["OptionD"]],
                    "answer": row["Answer"].upper()
                })
    except FileNotFoundError:
        print("File không tồn tại.")
    except KeyError:
        print("File không đúng định dạng CSV.")
    return quiz
def get_user_choice():
    while True:
        choice = input("Your answer (A/B/C/D): ").strip().upper()
        if choice in ["A", "B", "C", "D"]:
            return choice
        print("Invalid input. Please enter A, B, C, or D.")
def run_quiz(quiz):
    score = 0
    for i, q in enumerate(quiz, 1):
        print(f"\nQuestion {i}: {q['question']}")
        for idx, opt in zip(["A", "B", "C", "D"], q["options"]):
            print(f"{idx}. {opt}")
        user_choice = get_user_choice()
        if user_choice == q["answer"]:
            print("Correct!")
            score += 1
        else:
            print(f"Wrong! Correct answer: {q['answer']}")
    print(f"\nYour final score: {score}/{len(quiz)}")
def save_questions_only(quiz, new_file="questions_only.csv"):
    with open(new_file, "w", newline="", encoding="utf-8") as f:
        writer = csv.writer(f)
        writer.writerow(["Question"])
        for q in quiz:
            writer.writerow([q["question"]])
    print(f"File '{new_file}' đã được tạo thành công.")

create_quiz_csv()          
quiz_data = read_quiz() 
run_quiz(quiz_data)        
save_questions_only(quiz_data)